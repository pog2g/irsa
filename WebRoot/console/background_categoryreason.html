<!DOCTYPE html>
<html lang="zh-CN">

    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>标记分类管理</title>
        <!-- Tell the browser to be responsive to screen width -->
        <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
        <!-- Bootstrap 3.3.5 -->
        <link rel="stylesheet" href="res/bootstrap/css/bootstrap.min.css">
        <!-- Font Awesome -->
        <link rel="stylesheet" href="res/font-awesome/css/font-awesome.min.css">
        <!-- Ionicons -->
        <link rel="stylesheet" href="res/ionicons/css/ionicons.min.css">
        <!-- iCheck for checkboxes and radio inputs -->
        <link rel="stylesheet" href="res/plugins/iCheck/all.css">
        <!-- Select2 -->
        <link rel="stylesheet" href="res/plugins/select2/select2.min.css">
        <!-- switch -->
        <link rel="stylesheet" href="res/plugins/switch/bootstrap-switch.min.css">
        <!-- Theme style -->
        <link rel="stylesheet" href="res/dist/css/AdminLTE.min.css">
        <!-- AdminLTE Skins. Choose a skin from the css/skins
         folder instead of downloading all of them to reduce the load. -->
        <link rel="stylesheet" href="res/dist/css/skins/_all-skins.min.css">
        <!-- 自定义 -->
        <link rel="shortcut icon" href="self/img/logo.png">
        <link rel="stylesheet" href="self/css/self.css">
        <link rel="stylesheet" href="self/css/add.css">
        <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    </head>

    <body class="hold-transition skin-blue sidebar-mini">
        <div class="wrapper">
            <header class="main-header"></header>
            <aside class="main-sidebar">
                <section class="sidebar">
                    <ul class="sidebar-menu" id="ul_menu"></ul>
                </section>
            </aside>
            <div class="content-wrapper">
                <section class="content-header">
                    <h1>录入系统 <small>标记分类管理</small></h1>
                </section>
                <section class="content">
                    <div class="nav-tabs-custom no-margin">
                        <ul class="nav nav-tabs">
                            <li class="active">
                                <a href="#tab1" data-toggle="tab"><i class="fa fa-line-chart"></i> 行政管理类别管理</a>
                            </li>
                            <li>
                                <a href="#tab2" data-toggle="tab"><i class="fa fa-folder-open"></i> 案由管理</a>
                            </li>
                        </ul>
                        <div class="tab-content">
                            <div class="active tab-pane bg-gray-light" style="padding: 10px;" id="tab1">
                                <div class="box box-solid no-shadow" style="margin-bottom: 10px;">
                                    <div class="box-body">
                                        <button class="btn btn-primary btn-skin" id="btn_refresh_category"><i class="fa fa-refresh"></i> 刷新</button>
                                        <button class="btn btn-primary btn-skin" data-toggle="modal" data-target="#modal_save_category" data-type="1"><i class="fa fa-plus"></i> 添加</button>
                                        <button class="btn btn-primary btn-skin" data-toggle="modal" data-target="#modal_sort_category"><i class="fa fa-sort-amount-asc"></i> 排序</button>
                                        <button class="btn btn-primary btn-skin" id="btn_delete_category"><i class="fa fa-trash"></i> 删除</button>
                                    </div>
                                </div>
                                <div class="box box-solid no-shadow no-margin">
                                    <div class="box-body">
                                        <table class="table table-bordered" id="table_data_category">
                                            <tr>
                                                <th style="width: 10px"><input type="checkbox" class="minimal total-checkbox-category"></th>
                                                <th>序号</th>
                                                <th>父级</th>
                                                <th>名称</th>
                                                <th>操作</th>
                                            </tr>
                                        </table>
                                    </div>
                                    <div class="overlay" id="table_loading_category">
                                        <i class="fa fa-spin fa-refresh"></i>
                                    </div>
                                </div>
                            </div>
                            <div class="tab-pane bg-gray-light" style="padding: 10px;" id="tab2">
                                <div class="box box-solid no-shadow" style="margin-bottom: 10px;">
                                    <div class="box-body">
                                        <button class="btn btn-primary btn-skin" id="btn_refresh_reason"><i class="fa fa-refresh"></i> 刷新</button>
                                        <button class="btn btn-primary btn-skin" data-toggle="modal" data-target="#modal_save_reason" data-type="1"><i class="fa fa-plus"></i> 添加</button>
                                        <button class="btn btn-primary btn-skin" data-toggle="modal" data-target="#modal_sort_reason"><i class="fa fa-sort-amount-asc"></i> 排序</button>
                                        <button class="btn btn-primary btn-skin" id="btn_delete_reason"><i class="fa fa-trash"></i> 删除</button>
                                    </div>
                                </div>
                                <div class="box box-solid no-shadow no-margin">
                                    <div class="box-body">
                                        <table class="table table-bordered" id="table_data_reason">
                                            <tr>
                                                <th style="width: 10px"><input type="checkbox" class="minimal total-checkbox"></th>
                                                <th>序号</th>
                                                <th>名称</th>
                                                <th>操作</th>
                                            </tr>
                                        </table>
                                    </div>
                                    <div class="overlay" id="table_loading_reason">
                                        <i class="fa fa-spin fa-refresh"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </section>
            </div>
            <footer class="main-footer"></footer>

            <aside class="control-sidebar control-sidebar-dark">
                <!-- Create the tabs -->
                <ul class="nav nav-tabs nav-justified control-sidebar-tabs">
                    <li class="active">
                        <a href="#tab_skin" data-toggle="tab"><i class="fa fa-dashboard"></i></a>
                    </li>
                    <li>
                        <a href="#tab_contactbook" data-toggle="tab"><i class="fa fa-user-plus"></i></a>
                    </li>
                    <li>
                        <a href="#tab_notice" data-toggle="tab"><i class="fa fa-bullhorn"></i></a>
                    </li>
                </ul>
                <div class="tab-content">
                    <div class="tab-pane active" id="tab_skin">
                        <h4 class="control-sidebar-heading">皮肤</h4>
                    </div>
                    <div class="tab-pane" id="tab_contactbook">
                        <h4 class="control-sidebar-heading">通讯录</h4>
                        <ul class="control-sidebar-menu">
                            <li style="display: none;">
                                <a href="javascript:void(0)">
                                    <i class="menu-icon fa fa-user bg-gray"></i>
                                    <div class="menu-info">
                                        <h4 class="control-sidebar-subheading">张三</h4>
                                        <p>18712345678</p>
                                    </div>
                                </a>
                            </li>
                        </ul>
                    </div>
                    <div class="tab-pane" id="tab_notice">
                        <h4 class="control-sidebar-heading">版本更新公告</h4>
                        <div class="form-group" style="display: none;">
                            <label class="control-sidebar-subheading"><i class="fa fa-check-square-o"></i> 修复挺里面可能会遇到的多处bug</label>
                        </div>
                    </div>
                </div>
            </aside>
            <div class="control-sidebar-bg"></div>
        </div>

        <!-- 添加/编辑框 -->
        <div class="modal fade" id="modal_save_category">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" data-aria-label="Close"><span data-aria-hidden="true">&times;</span></button>
                        <h4 class="modal-title"></h4>
                    </div>
                    <form data-role="form" id="form_data_category">
                        <input type="hidden" id="category_id" name="category_id">
                        <div class="modal-body">
                            <div class="form-group">
                                <label>层级 <font class="text-blue">*</font></label>
                                <div class="form-control">
                                    <label style="padding-right: 5px;"><input class="minimal" type="radio" name="category_grade" id="category_grade_0" value="0" checked> 父级</label>
                                    <label style="padding-right: 5px;"><input class="minimal" type="radio" name="category_grade" id="category_grade_1" value="1"> 子级</label>
                                </div>
                            </div>
                            <div class="form-group grade_sub" style="display: none;">
                                <label>父级 <font class="text-blue">*</font></label>
                                <select class="form-control select2" style="width: 100%;" id="category_parent_id" name="category_parent_id"></select>
                            </div>
                            <div class="form-group">
                                <label>名称 <font class="text-blue">*</font></label>
                                <input type="text" class="form-control" id="category_title" name="category_title" placeholder="名称">
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="submit" class="btn btn-primary btn-skin" id="btn_submit_category">确定</button>
                        </div>
                    </form>
                </div>
                <!-- /.modal-content -->
            </div>
            <!-- /.modal-dialog -->
        </div>
        <!-- /.modal -->
        <!-- 排序框 -->
        <div class="modal fade" id="modal_sort_category">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" data-aria-label="Close"><span data-aria-hidden="true">&times;</span></button>
                        <h4 class="modal-title"><i class="fa fa-sort-amount-asc"></i> 排序</h4>
                    </div>
                    <div class="modal-body">
                        <ul class="todo-list sort-list-category"></ul>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary btn-skin" id="btn_sort_category">确定</button>
                    </div>
                </div>
                <!-- /.modal-content -->
            </div>
            <!-- /.modal-dialog -->
        </div>
        <!-- /.modal -->
        <!-- 确定框 -->
        <div class="modal fade" id="modal_confirm_category">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-body">
                        <h4>确定 <label class="text-red"> 删除 </label> 选中数据？</h4>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary btn-skin" id="btn_confirm_category">确定</button>
                    </div>
                </div>
                <!-- /.modal-content -->
            </div>
            <!-- /.modal-dialog -->
        </div>
        <!-- /.modal -->
        <!-- 添加/编辑框 -->
        <div class="modal fade" id="modal_save_reason">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" data-aria-label="Close"><span data-aria-hidden="true">&times;</span></button>
                        <h4 class="modal-title"></h4>
                    </div>
                    <form data-role="form" id="form_data_reason">
                        <input type="hidden" id="reason_id" name="reason_id">
                        <div class="modal-body">
                            <div class="form-group">
                                <label>名称 <font class="text-blue">*</font></label>
                                <input type="text" class="form-control" id="reason_title" name="reason_title" placeholder="名称">
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="submit" class="btn btn-primary btn-skin" id="btn_submit_reason">确定</button>
                        </div>
                    </form>
                </div>
                <!-- /.modal-content -->
            </div>
            <!-- /.modal-dialog -->
        </div>
        <!-- /.modal -->
        <!-- 排序框 -->
        <div class="modal fade" id="modal_sort_reason">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" data-aria-label="Close"><span data-aria-hidden="true">&times;</span></button>
                        <h4 class="modal-title"><i class="fa fa-sort-amount-asc"></i> 排序</h4>
                    </div>
                    <div class="modal-body">
                        <ul class="todo-list sort-list-reason"></ul>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary btn-skin" id="btn_sort_reason">确定</button>
                    </div>
                </div>
                <!-- /.modal-content -->
            </div>
            <!-- /.modal-dialog -->
        </div>
        <!-- /.modal -->
        <!-- 确定框 -->
        <div class="modal fade" id="modal_confirm_reason">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-body">
                        <h4>确定 <label class="text-red"> 删除 </label> 选中数据？</h4>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary btn-skin" id="btn_confirm_reason">确定</button>
                    </div>
                </div>
                <!-- /.modal-content -->
            </div>
            <!-- /.modal-dialog -->
        </div>
        <!-- /.modal -->
        <!-- Modal -->
        <div class="modal fade" id="modal_msg">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-body">
                        <h4 id="font_msg" style="font-weight: bold;color: red;">错误信息</h4>
                    </div>
                </div>
            </div>
        </div>

        <!-- jQuery 2.1.4 -->
        <script src="res/plugins/jQuery/jQuery-2.1.4.min.js"></script>
        <!-- jQuery UI 1.11.4 -->
        <script src="res/plugins/jQueryUI/jquery-ui.min.js"></script>
        <!-- Resolve conflict in jQuery UI tooltip with Bootstrap tooltip -->
        <!-- Bootstrap 3.3.5 -->
        <script src="res/bootstrap/js/bootstrap.min.js"></script>
        <!-- iCheck 1.0.1 -->
        <script src="res/plugins/iCheck/icheck.min.js"></script>
        <!-- Select2 -->
        <script src="res/plugins/select2/select2.full.min.js"></script>
        <!-- switch -->
        <script src="res/plugins/switch/bootstrap-switch.min.js"></script>
        <!-- AdminLTE App -->
        <script src="res/dist/js/app.min.js"></script>
        <!-- 自定义 -->
        <script src="self/js/head.js"></script>
        <script src="self/js/self.js"></script>
        <script src="self/js/sidebar.js"></script>
        <script>
            $(function() {
                initAccount("ed299f625d534f639b7d46f63d98b217");
                initCheckBox4Total("total-checkbox-category", "td-checkbox-category");
                initCheckBox4Total("total-checkbox-reason", "td-checkbox-reason");

                initData4Category();
                //加载数据
                function initData4Category(isSort) {
                    isSort = isSort || false;
                    if(!isSort) {
                        $("#table_loading_category").show();
                    }
                    $.ajax({
                        type: "POST",
                        url: "administrative_category/get_list",
                        dataType: "JSON",
                        success: function(data) {
                            if(data.result != 1) {
                                showMsg(data.error_msg);
                                return;
                            }

                            if(!isSort) {
                                $(".tr-data-category").remove(); //清除数据
                                $.each(data.data, function(index, value) {
                                    $td_data = $("<tr class='tr-data-category'>" +
                                        "<td><input type='checkbox' class='minimal td-checkbox-category' data-id='" + value.id + "'></td>" +
                                        "<td>" + (index + 1) + "</td>" +
                                        "<td><label class='label label-default' style='border-radius: 0px;'>" + (value.parent_title == null ? "" : value.parent_title) + "</label></td>" +
                                        "<td>" + value.title + "</td>" +
                                        "<td><button class='btn btn-xs btn-skin " + btnSkin + "' data-toggle='modal' data-target='#modal_save_category' " +
                                        "data-id='" + value.id + "' data-title='" + value.title + "' data-parent='" + value.parent_id + "'><i class='fa fa-edit'></i> 编辑</button></td>" +
                                        "</tr>");
                                    $("#table_data_category").append($td_data);
                                });

                                initCheckBoxByClassName("td-checkbox-category");
                                $("#table_loading_category").hide();
                            } else {
                                $(".li-sort-category").remove(); //清除数据
                                $.each(data.data, function(index, value) {
                                    var $li = $("<li class='li-sort-category' data-id='" + value.id + "'>" +
                                        "<span class='handle'><i class='fa fa-ellipsis-v'></i> <i class='fa fa-ellipsis-v'></i></span>" +
                                        "<label class='label label-warning'>" + (value.parent_title == null ? "" : value.parent_title) + "</label><span class='text' style='font-weight:bold;'>" + value.title + "</span>" +
                                        "</li>");
                                    $(".sort-list-category").append($li);
                                })
                            }
                        },
                        error: function(xhr, type) {
                            if(!isSort) {
                                $("#table_loading_category").hide();
                            }
                            showMsg("系统繁忙");
                        }
                    });
                }
                //刷新
                $("#btn_refresh_category").click(function() {
                    initData4Category();
                })

                //层级改变时页面变化
                $("#category_grade_0").on("ifChecked", function() {
                    $(".grade_sub").hide();
                });
                $("#category_grade_1").on("ifChecked", function() {
                    $(".grade_sub").show();
                });
                //添加/编辑框显示
                $("#modal_save_category").on("show.bs.modal", function(event) {
                    $("#category_grade_0").iCheck("check");
                    $("#category_id").val(null);
                    $("#category_title").val(null);

                    var button = $(event.relatedTarget)
                    var type = button.data("type");
                    var parentId = "";
                    var icon = "";
                    if(type == "1") { //添加
                        $(".modal-title").html("<i class='fa fa-plus'></i> 添加");
                        $("input[name='category_grade']").iCheck("enable"); //添加时启用层级选择
                    } else { //编辑
                        $(".modal-title").html("<i class='fa fa-edit'></i> 编辑");
                        $("input[name='category_grade']").iCheck("disable"); //编辑时禁用层级选择

                        parentId = button.data("parent");
                        if(parentId == null || parentId == "") {
                            $("#category_grade_0").iCheck("check");
                            //$(".grade_sub").hide();
                        } else {
                            $("#category_grade_1").iCheck("check");
                            //$(".grade_sub").show();
                        }

                        $("#category_id").val(button.data("id"));
                        $("#category_title").val(button.data("title"));
                    }
                    loadData4Select2("category_parent_id", "administrative_category/get_choose_list_4_parent", parentId);
                })
                //确定
                $("#btn_submit_category").click(function() {
                    var data = $("#form_data_category").serialize();
                    $.ajax({
                        url: "administrative_category/save.do",
                        type: "post",
                        dataType: "json",
                        data: data,
                        success: function(data) {
                            if(data.result != "1") {
                                showMsg(data.error_msg);
                                return;
                            }
                            $("#modal_save_category").modal("hide");
                            initData4Category();
                        },
                        error: function(xhr, type) {
                            showMsg("系统繁忙");
                        }
                    });
                    return false;
                });

                //排序
                $("#modal_sort_category").on("show.bs.modal", function(event) {
                    initData4Category(true);
                })
                //确定
                $("#btn_sort_category").click(function() {
                    var idArr = [];
                    $(".li-sort-category").each(function(index) {
                        idArr.push($(this).data("id"));
                    });
                    $.ajax({
                        url: "administrative_category/sort.do",
                        type: "post",
                        dataType: "json",
                        data: {
                            ids: idArr.join(",")
                        },
                        success: function(data) {
                            if(data.result != "1") {
                                showMsg(data.error_msg);
                                return;
                            }
                            $("#modal_sort_category").modal("hide");
                            initData4Category();
                        },
                        error: function(xhr, type) {
                            showMsg("系统繁忙");
                        }
                    });
                })

                //删除
                var idArr = [];
                $("#btn_delete_category").click(function() {
                    idArr = [];
                    $(".td-checkbox-category:checked").each(function() {
                        idArr.push($(this).data("id"));
                    });
                    if(idArr.length == 0) {
                        showMsg("请选择数据");
                        return;
                    }

                    $("#modal_confirm_category").modal("show");
                })
                //确定
                $("#btn_confirm_category").click(function() {
                    $("#table_loading_category").show();
                    $.ajax({
                        url: "administrative_category/delete",
                        type: "post",
                        dataType: "json",
                        data: {
                            ids: idArr.join(",")
                        },
                        success: function(data) {
                            $("#table_loading_category").hide();
                            $("#modal_confirm_category").modal("hide");
                            if(data.result != "1") {
                                showMsg(data.error_msg);
                                return;
                            }
                            initData4Category();
                        },
                        error: function(xhr, type) {
                            $("#table_loading_category").hide();
                            showMsg("系统繁忙");
                        }
                    });
                });

                initData4Reason();
                //加载数据
                function initData4Reason(isSort) {
                    isSort = isSort || false;
                    if(!isSort) {
                        $("#table_loading_reason").show();
                    }
                    $.ajax({
                        type: "POST",
                        url: "cases_reason/get_list",
                        dataType: "JSON",
                        success: function(data) {
                            if(data.result != 1) {
                                showMsg(data.error_msg);
                                return;
                            }

                            if(!isSort) {
                                $(".tr-data-reason").remove(); //清除数据
                                $.each(data.data, function(index, value) {
                                    $td_data = $("<tr class='tr-data-reason'>" +
                                        "<td><input type='checkbox' class='minimal td-checkbox-reason' data-id='" + value.id + "'></td>" +
                                        "<td>" + (index + 1) + "</td>" +
                                        "<td>" + value.text + "</td>" +
                                        "<td><button class='btn btn-xs btn-skin " + btnSkin + "' data-toggle='modal' data-target='#modal_save_reason' " +
                                        "data-id='" + value.id + "' data-title='" + value.text + "'><i class='fa fa-edit'></i> 编辑</button></td>" +
                                        "</tr>");
                                    $("#table_data_reason").append($td_data);
                                });

                                initCheckBoxByClassName("td-checkbox-reason");
                                $("#table_loading_reason").hide();
                            } else {
                                $(".li-sort-reason").remove(); //清除数据
                                $.each(data.data, function(index, value) {
                                    var $li = $("<li class='li-sort-reason' data-id='" + value.id + "'>" +
                                        "<span class='handle'><i class='fa fa-ellipsis-v'></i> <i class='fa fa-ellipsis-v'></i></span>" +
                                        "<span class='text' style='font-weight:bold;'>" + value.text + "</span>" +
                                        "</li>");
                                    $(".sort-list-reason").append($li);
                                })
                            }
                        },
                        error: function(xhr, type) {
                            if(!isSort) {
                                $("#table_loading_reason").hide();
                            }
                            showMsg("系统繁忙");
                        }
                    });
                }
                //刷新
                $("#btn_refresh_reason").click(function() {
                    initData4Reason();
                })

                //添加/编辑框显示
                $("#modal_save_reason").on("show.bs.modal", function(event) {
                    $("#reason_id").val(null);
                    $("#reason_title").val(null);

                    var button = $(event.relatedTarget)
                    var type = button.data("type");
                    if(type == "1") { //添加
                        $(".modal-title").html("<i class='fa fa-plus'></i> 添加");
                    } else { //编辑
                        $(".modal-title").html("<i class='fa fa-edit'></i> 编辑");

                        $("#reason_id").val(button.data("id"));
                        $("#reason_title").val(button.data("title"));
                    }
                })
                //确定
                $("#btn_submit_reason").click(function() {
                    var data = $("#form_data_reason").serialize();
                    $.ajax({
                        url: "cases_reason/save.do",
                        type: "post",
                        dataType: "json",
                        data: data,
                        success: function(data) {
                            if(data.result != "1") {
                                showMsg(data.error_msg);
                                return;
                            }
                            $("#modal_save_reason").modal("hide");
                            initData4Reason();
                        },
                        error: function(xhr, type) {
                            showMsg("系统繁忙");
                        }
                    });
                    return false;
                });

                //排序
                $("#modal_sort_reason").on("show.bs.modal", function(event) {
                    initData4Reason(true);
                })
                //确定
                $("#btn_sort_reason").click(function() {
                    var idArr = [];
                    $(".li-sort-reason").each(function(index) {
                        idArr.push($(this).data("id"));
                    });
                    $.ajax({
                        url: "cases_reason/sort.do",
                        type: "post",
                        dataType: "json",
                        data: {
                            ids: idArr.join(",")
                        },
                        success: function(data) {
                            if(data.result != "1") {
                                showMsg(data.error_msg);
                                return;
                            }
                            $("#modal_sort_reason").modal("hide");
                            initData4Reason();
                        },
                        error: function(xhr, type) {
                            showMsg("系统繁忙");
                        }
                    });
                })

                //删除
                var idArr = [];
                $("#btn_delete_reason").click(function() {
                    idArr = [];
                    $(".td-checkbox-reason:checked").each(function() {
                        idArr.push($(this).data("id"));
                    });
                    if(idArr.length == 0) {
                        showMsg("请选择数据");
                        return;
                    }

                    $("#modal_confirm_reason").modal("show");
                })
                //确定
                $("#btn_confirm_reason").click(function() {
                    $("#table_loading_reason").show();
                    $.ajax({
                        url: "cases_reason/delete",
                        type: "post",
                        dataType: "json",
                        data: {
                            ids: idArr.join(",")
                        },
                        success: function(data) {
                            $("#table_loading_reason").hide();
                            $("#modal_confirm_reason").modal("hide");
                            if(data.result != "1") {
                                showMsg(data.error_msg);
                                return;
                            }
                            initData4Reason();
                        },
                        error: function(xhr, type) {
                            $("#table_loading_reason").hide();
                            showMsg("系统繁忙");
                        }
                    });
                });
            })
        </script>
    </body>

</html>